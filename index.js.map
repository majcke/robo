{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/index.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "import * as THREE from 'https://cdn.skypack.dev/three@0.132.2';\n\n//import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { OrbitControls } from \"https://threejs.org/examples/jsm/controls/OrbitControls.js\";\n\nimport { GLTFLoader } from 'https://cdn.jsdelivr.net/npm/three@0.146.0/examples/js/loaders/GLTFLoader.js';\nimport { TextureLoader } from 'https://cdn.jsdelivr.net/npm/three@0.146.0/build/three.min.js';\n\nwindow.Webflow ||= [];\nwindow.Webflow.push(() => {\n  //console.log('hello');\n  init3D();\n});\n\n// Init Function\nfunction init3D() {\n  // select container\n  const viewport = document.querySelector('[data-3d=\"c\"]');\n  // console.log(viewport);\n\n  // create scened and renderer and camera\n  const scene = new THREE.Scene();\n  const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n  const renderer = new THREE.WebGLRenderer({\n    alpha: true,\n    antialias: true,\n  });\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  viewport.appendChild(renderer.domElement);\n\n  // add an object\n  const geometry = new THREE.BoxGeometry();\n  const material = new THREE.MeshNormalMaterial();\n  const cube = new THREE.Mesh(geometry, material);\n  // scene.add(cube);\n\n  // add controls\n  //const controls = new OrbitControls(camera, renderer.domElement);\n  const controls = new THREE.OrbitControls(camera, renderer.domElement);\n  //controls.update(); // Call this if you change the camera position\n  //const controls = new OrbitControls(camera, document.body);\n\n\n  camera.position.z = 100;\n  controls.update(); // Call this if you change the camera position\n\n\n    //declaring hte bone outside the load\n    let neckBone = null;\n    let clock = new THREE.Clock();\n    let mixer = null;\n\n    const mouse = {\n      x: 0,\n      y: 0,\n    }\n\n    window.addEventListener('mousemove', (e) => {\n      mouse.x = (e.clientX / window.innerWidth) * 2 - 1;  \n      mouse.y = -(e.clientY / window.innerHeight) * 2 + 1; \n      \n      //console.log(mouse.x);\n    })\n\n  //adding lights outside\n  let dirLight;\n\n  function addLight() {\n    const ambLight = new THREE.AmbientLight(0xffffff, 0.3);\n    scene.add(ambLight);\n\n    dirLight = new THREE.DirectionalLight(0xffffff, 1.0);\n    dirLight.position.set(1, 1, 0.5);\n    scene.add(dirLight);\n  }\n\n  addLight();\n    \n  function animate() {\n    window.requestAnimationFrame(animate);\n    controls.update();\n\n    //controlling light position with mouse\n    dirLight.position.x = mouse.x * 1; \n    dirLight.position.y = mouse.y * 1;\n\n    if (ob.tshirt) ob.tshirt.rotation.y += 0.01;\n\n\n    renderer.render(scene, camera);\n  }\n\n\n  const ob = {\n    zmajca: null,\n    mmajca: null,\n    pivskikozarec: null,\n    salca: null,\n  };\n\n  animate();\n\n\n\n  // --- load 3d async\n  const assets = load();\n  assets.then((data) => {\n    //console.log(data, data.objects);\n    const objects = data.objects.scene;\n    const animations = data.objects.animations;\n\n    //console.log(animations);\n\n    objects.traverse((child) => {\n      //console.log(child);\n      if (child.isMesh) {\n        if (child.name === 'zmajca') {\n          ob.zmajca = child;\n          ob.zmajca.visible = false;\n        } else if (child.name === 'mmajca') {\n          ob.mmajca = child;\n          ob.mmajca.visible = false;\n          // ob.cap.position.x = 2;\n        } else if (child.name === 'pivski_kozarec') {\n          ob.pivskikozarec = child;\n          ob.pivskikozarec.visible = false;\n          // ob.mug.position.x = -2;\n        } else if (child.name === 'salca') {\n          ob.salca = child;\n          ob.salca.visible = false;\n          // ob.mug.position.x = -2;\n        }\n\n        //console.log(child.name);\n\n        child.material = new THREE.MeshStandardMaterial({\n          //color: 0xff0000,      //color\n          transparent: false,\n        });\n\n        child.material.map = data.texture;\n      }\n    });\n\n    //objects.position.y = -1;\n    scene.add(objects);\n\n    //console.log(ob);\n\n    initStore();\n  });\n\n  // ---------------Store Setup\n\n  function initStore() {\n    const shirts = [...document.querySelectorAll('[data-3d-shirt]')];\n    //console.log(shirts);\n\n    shirts.forEach((shirt, i) => {\n      const image = shirt.src;\n      const color = shirt.getAttribute('data-3d-shirt');\n      const trigger = shirt.parentElement;\n      //console.log(image, color, trigger);\n      \n      trigger.onclick = () => changeShirt(image, color); \n      if(i == 0 ) {\n        changeShirt(image, color);\n      }\n    });\n\n    //----------------------------Listen to different NAV items\n    const navItems = [...document.querySelectorAll('[data-3d-nav]')];\n    console.log(navItems);\n\n    navItems.forEach((item) => {\n      item.onclick = () => {\n        const name = item.getAttribute('data-3d-nav');\n        console.log(name);\n        \n        if (name === 'zmajca') {\n          ob.zmajca.visible = true;\n          ob.mmajca.visible = false;\n          ob.pivskikozarec.visible = false;\n          ob.salca.visible = false;\n        } else if (name === 'mmajca') {\n          ob.zmajca.visible = false;\n          ob.mmajca.visible = true;\n          ob.pivskikozarec.visible = false;\n          ob.salca.visible = false;\n        } else if (name === 'pivskikozarec') {\n          ob.zmajca.visible = false;\n          ob.mmajca.visible = false;\n          ob.pivskikozarec.visible = true;\n          ob.salca.visible = false;\n        } else if (name === 'salca') {\n          ob.zmajca.visible = false;\n          ob.mmajca.visible = false;\n          ob.pivskikozarec.visible = false;\n          ob.salca.visible = true;\n        } \n\n      };\n    });\n  }\n\n  async function changeShirt(image, color) {\n    const texture = await loadTexture(image);\n    ob.zmajca.material.map = texture;\n\n    ob.zmajca.visible = true;\n\n    //console.log(texture);\n  }\n\n}\n\n/* Loader Functions */\nasync function load() {\n  const objects = await loadModel(\n    'https://cdn.prod.website-files.com/6729eb87cfb6a5c0fb028478/67585accc532b1eac36ce515_skupaj.txt' //vsi objekti skupaj: mmajca, zmajca, pivski kozarec, salca \n    //'https://cdn.prod.website-files.com/671b5aa1d031cdfe984c73ee/6723a868acbbd0644b5654de_zenska%20majica.txt'  //zenska\n    //'https://cdn.prod.website-files.com/6729eb87cfb6a5c0fb028478/673ca05ea09ba7d6ca757a71_moska%20majica.txt' //moska\n  );\n\n  const texture = await loadTexture(\n    'https://cdn.prod.website-files.com/671b5aa1d031cdfe984c73ee/6723aa41d98aa73cfeda5400_uv-layout.jpg'\n  );\n\n  return { objects, texture };\n}\n\nconst textureLoader = new TextureLoader();\nconst modelLoader = new GLTFLoader();\n\nfunction loadTexture(url) {\n  return new Promise((resolve) => {\n    textureLoader.load(url, (data) => {\n      data.needsUpdate = true;\n      data.flipY = false;\n\n      resolve(data); \n    });\n  });\n}\n\nfunction loadModel(url, id) {\n  return new Promise((resolve, reject) => {\n    modelLoader.load(url, (gltf) => {\n      const scene = gltf.scene;\n      const animations = gltf.animations; \n      resolve({scene, animations});\n    });\n  });\n}"],
  "mappings": "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",
  "names": []
}
